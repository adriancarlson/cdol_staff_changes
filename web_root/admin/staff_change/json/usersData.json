~[tlist_sql;
    SELECT 
        json_arrayagg(
            json_object(
                'identifier' VALUE identifier,
                'title' VALUE title,
                'first_name' VALUE first_name,
                'last_name' VALUE last_name,
                'staff_status' VALUE staff_status,  -- <== Added here
                'email_addr' VALUE email_addr,
                'license_microsoft' VALUE license_microsoft,
                'homeschoolid' VALUE homeschoolid,
                'homeschoolname' VALUE homeschoolname,
                'schoolstaff_dcid' VALUE schoolstaff_dcid
                RETURNING CLOB
            )
            ORDER BY last_name, first_name
            RETURNING CLOB
        )
    FROM (
        SELECT 
            users.dcid AS identifier,
            users.title,
            users.first_name,
            users.last_name,
            schoolstaff.status AS staff_status,
            users.email_addr,
            u_users_additional_info.license_microsoft,
            users.homeschoolid,
            schools.name AS homeschoolname,
            schoolstaff.dcid AS schoolstaff_dcid,
            ROW_NUMBER() OVER (
                PARTITION BY users.dcid
                ORDER BY schoolstaff.status ASC, schoolstaff.dcid DESC
            ) AS rn
        FROM 
            schoolstaff
        INNER JOIN users ON users.dcid = schoolstaff.users_dcid
        LEFT JOIN schools ON users.homeschoolid = schools.school_number
        LEFT JOIN u_users_additional_info ON users.dcid = u_users_additional_info.usersdcid
        WHERE 
            (users.homeschoolid = '~(gpv.curSchoolID)' OR '~(gpv.curSchoolID)' = 0)
            AND schoolstaff.status IN (~(gpv.staffStatus))
    )
    WHERE rn = 1
]~(data)[/tlist_sql]
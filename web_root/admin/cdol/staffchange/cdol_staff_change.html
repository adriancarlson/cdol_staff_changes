<!DOCTYPE html>
<html>

    <head>
        <title>Staff Change</title>
        ~[wc:commonscripts]
        <link href="/images/css/screen.css" rel="stylesheet" media="screen">
        <link href="/images/css/print.css" rel="stylesheet" media="print">
        <style>
            [ng\:cloak],
            [ng-cloak],
            [data-ng-cloak],
            [x-ng-cloak],
            .ng-cloak,
            .x-ng-cloak {
                display: none !important;
            }

            .notation {
                font-weight: normal;
                font-style: italic;
            }

            .req::after {
                content: " *";
                color: red;
            }

            #legend {
                display: none;
            }
        </style>
    </head>

    <body id="cdolStaffAppDiv" ng-controller="cdolStaffAppCtrl as mainController"
        data-require-path="/cdol/staffchange/scripts/cdol_staff_change.js?~[time]" data-module-name="cdolStaffApp"
        ng-cur-school-id="~(curschoolid)" ng-cur-year-id="~(curyearid)" ng-status="~(gpv.status)"
        ng-cur-user-id="~[x:userid]" ng-cur-date="~[short.date]" ng-cloak>
        ~[wc:admin_header_css]
        {{userContext.pageStatus}} Staff Change
        ~[wc:admin_navigation_css]

        <!--New Staff Submit-->
        <div ng-show="userContext.pageStatus =='Submit'">

            <h1>{{userContext.pageStatus}} Staff Change</h1>
            <div id="feedback-message" class="feedback-alert">Please spell new staff name correctly! If new staff member
                is going to be having a name change in the next 6 months for any reason please enter their anticipated
                name.</div>
            <form method="POST">
                <div class="fluid-form">
                    <div>
                        <div>
                            <label class="req">Title</label>
                            <select name="" id="selectTitle"
                                ng-model="newStaff.title">~[x:codesetoptions;codetype=Title;includeblank;value=~([U_CDOL_STAFF_CHANGES]title)]</select>
                        </div>
                        <div>
                            <label class="req">First Name</label>
                            <input name="" type="text" value="" ng-model="newStaff.first_name">
                        </div>
                        <div>
                            <label>Middle Name</label>
                            <input name="" type="text" value="" ng-model="newStaff.middle_name">
                        </div>
                        <div>
                            <label class="req">Last Name</label>
                            <input name="" type="text" value="" ng-model="newStaff.last_name">
                        </div>
                    </div>
                    <div>
                        <div>
                            <label class="req">Gender</label>
                            <select name="" id="selectgender"
                                ng-model="newStaff.gender">~[x:codesetoptions;codetype=Gender;includeblank;value=~([U_CDOL_STAFF_CHANGES]preferred_name)]</select>
                        </div>
                    </div>
                    <div>
                        <div>
                            <label>Preferred Name</label>
                            <input name="" type="text" value="" ng-model="newStaff.preferred_name">
                        </div>
                        <div ng-show="newStaff.gender === 'F' && (newStaff.title ==='Mrs.' || newStaff.title ==='Dr.')">
                            <label>Maiden Name</label>
                            <input name="" type="text" value="" ng-model="newStaff.maiden_name">
                        </div>
                    </div>
                    <div>
                        <div>
                            <label>Personal Email <span class="notation">(for communication in the summer and for
                                    trainings)</span></label>
                            <input name="" type="email" value="" placeholder="NewStaff@email.com"
                                ng-model="newStaff.personal_email">
                        </div>
                    </div>
                    <div>
                        <div>
                            <label class="req">Staff Type</label>
                            <select name="" ng-model="newStaff.staff_type">
                                <option></option>
                                <option value="Teacher">
                                    Teacher
                                </option>
                                <option value="Administrator">Administrator</option>
                                <option value="Staff">
                                    Staff
                                </option>
                            </select>
                        </div>
                        <div>
                            <label class="req">Position</label>
                            <input name="" type="text" value="" placeholder="Ex: 2nd Grade Teacher, or Principal"
                                style="width: 300px;" ng-model="newStaff.position">
                        </div>
                        <div>
                            <label>Start Date <span class="notation">(can be aproximate)</span></label>
                            <input name="" type="text" value="" class="psDateWidget" ng-model="newStaff.start_date"
                                ng-init="userContext.curDate">
                        </div>
                    </div>
                    <div>
                        <div>
                            <label class="req">Who is <span
                                    ng-show="newStaff.title =='' && newStaff.first_name =='' && newStaff.last_name ==''">{{userContext.newStaffTempName}}</span>
                                {{newStaff.title}} {{newStaff.first_name}} {{newStaff.last_name}} Replacing?</label>
                            <select name="" ng-model="newStaff.replacing">
                                <option></option>
                                ~[tlist_sql;SELECT
                                users.dcid,
                                users.first_name,
                                users.last_name
                                FROM SCHOOLSTAFF
                                inner join users
                                on users.dcid = schoolstaff.users_dcid
                                WHERE schoolstaff.schoolid = ~(curschoolid)
                                AND schoolstaff.status =1
                                Order BY users.last_name , users.first_name]
                                <option value="~(dcid)">~(first) ~(last)</option>
                                [/tlist_sql]
                                <option value="New">New Position</option>
                            </select>
                        </div>
                    </div>
                    <div>
                        <div>
                            <label>Has <span
                                    ng-show="newStaff.title =='' && newStaff.first_name =='' && newStaff.last_name ==''">{{userContext.newStaffTempName}}</span>
                                {{newStaff.title}} {{newStaff.first_name}} {{newStaff.last_name}} previously worked for
                                ~(schoolname) or another Diocese of Lincoln School?</label>
                            <select name="" ng-model="newStaff.previous">
                                <option></option>
                                <option value="1">Yes</option>
                                <option value="0">No</option>
                            </select>
                        </div>
                    </div>
                    <div ng-show="newStaff.previous == 1">
                        <div>
                            <label>Where was <span
                                    ng-show="newStaff.title =='' && newStaff.first_name =='' && newStaff.last_name ==''">{{userContext.newStaffTempName}}</span>
                                {{newStaff.title}} {{newStaff.first_name}} {{newStaff.last_name}} previously
                                employed?</label>
                            <select name="" ng-model="newStaff.previous_employer">
                                <option></option>
                                ~[tlist_sql;SELECT SCHOOLS.School_number, SCHOOLS.name, SCHOOLS.SchoolCategoryCodesetID
                                FROM SCHOOLS
                                WHERE SCHOOLS.School_number NOT IN (888888,999999)
                                ORDER BY schools.name;]
                                <option value="~(schnum)">~(schname)</option>
                                [/tlist_sql]
                                <option value="Other">Other</option>
                            </select>
                        </div>
                    </div>
                    <div ng-show="newStaff.previous_employer === 'Other'">
                        <div>
                            <label>Please type previous employer</label>
                            <input name="" type="text" value="" style="width: 300px;"
                                ng-model="newStaff.previous_employer_other">
                        </div>
                    </div>
                    <input type="hidden" id="emailType" name="[queue]type" value="100">
                    <input type="hidden" id="emailFrom" name="[queue]tdata1" value="adrian-carlson@cdolinc.net">
                    <input type="hidden" id="emailTo" name="[queue]tdata2" value="ps-support@cdolinc.net">
                    <input type="hidden" id="emailSubject" name="[queue]tdata3" value="Test">
                    <input type="hidden" id="emailBody" name="[queue]tdata4" value="Test">
                    <input type="hidden" id="emailDate" name="[queue]date" value="~[short.date]">
                    <input type="hidden" id="emailTime" name="[queue]time" value="~[time]">
                    <input type="hidden" name="ac" value="prim">
                    <div class="button-row">
                        <button id="canBtn" type="button" ng-show="subConfirm"
                            ng-click="subConfirm = false">Cancel</button>
                        <button id="conBtn" type="button" style="background-color: DarkOrange;" ng-show="subConfirm"
                            ng-click="submitStaffChange()">Confirm Submission</button>
                        <button id="upBtn" type="button" ng-show="!subConfirm"
                            ng-click="subConfirm = true">Submit</button>
                    </div>
                    <div>{{newStaff}}</div>
                </div>
            </form>
            <div style="float: right;" ng-show="subConfirm" class="feedback-alert">Please double check spelling prior to
                submission. It is critical for accurate account creation.</div>
        </div>
        <!--Confirm-->
        <div ng-show="userContext.pageStatus =='Confirm'">
            <h1>Thank You!</h1>
            <div class="feedback-confirm" style="width:700px"><span class="underline">Thank You for your
                    submission!</span>
                <br>
                <span class="underline bold">Note:</span> Your New Staff Submission for
                ~(gpv.title) ~(gpv.fname) ~(gpv.lname)
                has been sent to the Education Technology Office. We will be in contact once the account has been
                created.
            </div>
            <div class="button-row" style="width:740px"><a class="button"
                    href="cdol_staff_change.html?status=Submit">Submit
                    another
                    New Staff Record</a><a class="button" href="/admin/home.html">Exit</a>
            </div>
        </div>
        ~[wc:admin_footer_css]
    </body>

</html>
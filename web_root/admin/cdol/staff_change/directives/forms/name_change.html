<form name="nameChangeForm" method="POST" novalidate>
    <div class="fluid-form">
        <div>
            <div>
                <label class="req">Who's name is changing?</label>
                <select ng-show="userContext.pageStatus =='Submit'" name="" ng-model="newStaff.replacing"
                    ng-required="true" ng-change="getExistingStaff()">
                    <option></option>
                    ~[tlist_sql;SELECT distinct
                    users.dcid,
                    users.first_name,
                    users.last_name
                    FROM SCHOOLSTAFF
                    inner join users
                    on users.dcid = schoolstaff.users_dcid
                    WHERE schoolstaff.status =1
                    ~[if.is.a.school]
                    AND schoolstaff.schoolid = ~(curschoolid)
                    [/if.is.a.school]
                    Order BY users.last_name , users.first_name]
                    <option value="~(dcid)">~(first) ~(last)</option>
                    [/tlist_sql]
                </select>
                <input ng-show="userContext.pageStatus =='Edit'" name="" type="text" value=""
                    ng-model="newStaff.old_name_placeholder">
            </div>
        </div>
        <div><label>Staff's New Name</label></div>
        <div>
            <div>
                <label class="req">Title</label>
                <select name="" id="selectTitle" ng-model="newStaff.title"
                    ng-required="true">~[x:codesetoptions;codetype=Title;includeblank;value=~([U_CDOL_STAFF_CHANGES]title)]</select>
            </div>
            <div>
                <label class="req">First Name</label>
                <input name="" type="text" value="" ng-model="newStaff.first_name" ng-required="true">
            </div>
            <div>
                <label>Middle Name</label>
                <input name="" type="text" value="" ng-model="newStaff.middle_name">
            </div>
            <div>
                <label class="req">Last Name</label>
                <input name="" type="text" value="" ng-model="newStaff.last_name" ng-required="true">
            </div>
        </div>
        <div>
            <div>
                <label>Reason for Name Change and/or additional Notes/Details?</label>
                <textarea name="body" rows="3" cols="77" spellcheck="true" wrap="absolute"
                    ng-model="newStaff.notes"></textarea>
            </div>
        </div>
        ~[if#distCheck.security.inrole=9]
        <div style="background-color: #fff; border-top: 1px solid #eee;"
            ng-show="userContext.pageStatus =='Edit'">
            <div>
                <table class="grid">
                    <thead>
                        <tr>
                            <th colspan="4">Account Update</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td style="background-color: #fff;padding: 5px 10px 10px 2px;">
                                <input type="checkbox" name=""
                                    ng-model="newStaff.ps_created"><label>PowerSchool Account
                                    Updated?</label>
                                <ul>
                                    <li>User Name Updated?</li>
                                    <li>Email Address Updated?</li>
                                </ul>
                            </td>
                            <td style="background-color: #fff;padding: 5px 10px 10px 2px;">
                                <input type="checkbox" name="" ng-model="newStaff.ad_created"><label>AD User
                                    Account created?</label>
                                <ul>
                                    <li>Exchange email updated?</li>
                                </ul>
                            </td>
                            <td style="background-color: #fff;padding: 5px 10px 10px 2px;">
                                <input type="checkbox" name="" ng-model="newStaff.o365_created"><label>O365
                                    User
                                    Account updated?</label>
                                <ul>
                                    <li>Office 365 updated?</li>
                                </ul>
                            </td>
                            <td style="background-color: #fff;padding: 5px 10px 10px 2px;">
                                <input type="checkbox" name="" ng-model="newStaff.lms_created"><label>LMS
                                    Account
                                    Updated?</label>
                                <ul>
                                    <li>LMS name Updated?</li>
                                    <li>Matches O365 Login?</li>
                                </ul>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
        [/if#distCheck]
        <div class="button-row" ng-show="userContext.pageStatus =='Submit'">
            <span class="req-notation" ng-show="nameChangeForm.$invalid && nameChangeForm.$dirty">Please
                fill all required fields prior to submitting.</span>
            <span style="display:inline; padding: 4px 4px 4px 30px;" ng-show="subConfirm"
                class="feedback-alert">Please double check spelling prior to
                submission. It is critical for accurate account creation.</span>
            <button id="canBtn" type="button" ng-show="subConfirm"
                ng-click="subConfirm = false">Cancel</button>
            <button id="conBtn" type="button" style="background-color: DarkOrange;" ng-show="subConfirm"
                ng-click="submitStaffChange()">Confirm Submission</button>
            <button id="subBtn" type="button" ng-show="!subConfirm" ng-click="subConfirm = true"
                ng-disabled="nameChangeForm.$invalid">Submit</button>
        </div>
        <div ng-show="userContext.pageStatus =='Edit'" class="button-row">
            <span class="req-notation" ng-show="nameChangeForm.$invalid && nameChangeForm.$dirty">Please
                fill all required fields prior to submitting.</span>
            <button id="canBtn" type="button" ng-show="delUpdate"
                ng-click="delUpdate = false">Cancel</button>
            <button id="conBtn" type="button" style="background-color: DarkOrange;" ng-show="delUpdate"
                ng-click="deleteStaffChange()">Confirm Deletion</button>
            <a id="bkBtn" class="button" ng-show="!delUpdate"
                href="/admin/cdol/staff_change/cdol_staff_change_list.html">Back</a>
            <button id="delBtn" type="button" ng-show="!delUpdate" ng-click="delUpdate = true">Delete
                Submission</button>
            <button id="upBtn" type="button" ng-disabled="nameChangeForm.$invalid" ng-show="!delUpdate"
                ng-click="submitStaffUpdate()">Submit
                Update</button>
        </div>
    </div>
</form>
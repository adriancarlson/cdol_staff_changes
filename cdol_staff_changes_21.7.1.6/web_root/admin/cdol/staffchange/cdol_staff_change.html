<!DOCTYPE html>
<html>

    <head>
        <title>Staff Change</title>
        ~[wc:commonscripts]
        <link href="/images/css/screen.css" rel="stylesheet" media="screen">
        <link href="/images/css/print.css" rel="stylesheet" media="print">
        <link href="/cdol/staffchange/scripts/cdol_staff_change.css?~[time]" rel="stylesheet">
    </head>

    <body id="cdolStaffAppDiv" ng-controller="cdolStaffAppCtrl as mainController"
        data-require-path="/cdol/staffchange/scripts/cdol_staff_change.js?~[time]" data-module-name="cdolStaffApp"
        ng-cur-school-id="~(curschoolid)" ng-cur-year-id="~(curyearid)" ng-status="~(gpv.status)"
        ng-cur-user-id="~[x:userid]" ng-cur-date="~[date]" ng-cur-time="~[time]" ng-staff-change-id="~(gpv.id)"
        ng-cur-user-name=" ~[x:username;firstlast]" ng-cur-user-email="~[x:useremail]"
        ng-cur-user-school-abbr="~(schoolabbr)" ng-init="findStaffChange()" ng-cloak>
        ~[wc:admin_header_css]
        <span ng-show="userContext.pageStatus =='Submit'"><a href="/admin/home.html"
                target="_top">~[text:psx.html.admin_reports.runreports.start_page]</a> &gt; {{userContext.pageStatus}}
            Staff Change</span>
        <span ng-show="userContext.pageStatus =='Edit'"><a href="/admin/home.html"
                target="_top">~[text:psx.html.admin_reports.runreports.start_page]</a> &gt; <a
                href="/admin/cdol/staffchange/cdol_staff_change_list.html" target="_top">Staff Submissions</a> &gt;
            {{userContext.pageStatus}} Staff Change Submissions </span>
        ~[wc:admin_navigation_css]

        <div ng-show="userContext.pageStatus =='Submit' || userContext.pageStatus =='Edit'">
            <h1>{{userContext.pageStatus}} Staff Change</h1>
            <!--dup table-->
            <div class="box-round"
                ng-show="userContext.pageStatus =='Edit' && dupList.length >0 && newStaff.ps_created !=1"
                style="width:50%;">
                <div id="feedback-message" class="feedback-error">Potential matches for&nbsp;{{newStaff.title}}
                    {{newStaff.first_name}} {{newStaff.last_name}}</div>
                <table class="grid" style="font-size: 10pt;">
                    <thead>
                        <tr>
                            <th>Potential Duplicate</th>
                            <th>Status</th>
                            <th>School</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="dup in dupList">
                            <td><a href="/admin/faculty/edit.html?frn=005{{dup.dcid}}">{{dup.first_name}}
                                    {{dup.last_name}}</a></td>
                            <td>{{dup.status}}</td>
                            <td>{{dup.school_name}}</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div id="feedback-message" class="feedback-confirm"
                ng-show="userContext.pageStatus =='Edit'&& dupList.length <=0">No potential duplicate staff records
                found.</div>
            <!--Divergent path question-->
            <div class="fluid-form">
                <div>
                    <div>
                        <label>Type of Staff Change</label>
                        <select name="" type="text" value="" ng-model="newStaff.name_change">
                            <option></option>
                            <option value="New Staff">New Staff: new staff entering ~(schoolname)</option>
                            <option value="Name Change">Name Change: change the name of an existing staff member
                            </option>
                            <option value="Transferring Staff">Transferring Staff: new staff transferring in from
                                another Diocese of Lincoln School</option>
                            <option value="Exiting Staff">Exiting Staff: staff not returning</option>
                        </select>
                    </div>
                </div>
            </div>
            <!--transfer Submit-->
            <form name="staffTransferForm" method="POST" novalidate>

                <div class="fluid-form" ng-show="newStaff.name_change=='Transferring Staff'">
                    <h4 style="margin-left: 10px;">{{newStaff.name_change}} Name</h4>

                    <div>
                        <div>
                            <label class="req">Title</label>
                            <select name="" id="selectTitle" ng-model="newStaff.title"
                                ng-required="true">~[x:codesetoptions;codetype=Title;includeblank;value=~([U_CDOL_STAFF_CHANGES]title)]</select>
                        </div>
                        <div>
                            <label class="req">First Name</label>
                            <input name="" type="text" value="" ng-model="newStaff.first_name" ng-required="true">
                        </div>
                        <div>
                            <label>Middle Name</label>
                            <input name="" type="text" value="" ng-model="newStaff.middle_name">
                        </div>
                        <div>
                            <label class="req">Last Name</label>
                            <input name="" type="text" value="" ng-model="newStaff.last_name" ng-required="true">
                        </div>
                    </div>
                    <div>
                        <div>
                            <label class="req">Staff Type</label>
                            <select name="" ng-model="newStaff.staff_type" ng-required="true">
                                <option></option>
                                <option value="1">Teacher</option>
                                <option value="2">Staff</option>
                                <option value="3">Lunch Staff</option>
                                <option value="4">Substitute</option>
                            </select>
                        </div>
                        <div>
                            <label class="req">Position</label>
                            <input name="" type="text" value="" placeholder="Ex: 2nd Grade Teacher, or Principal"
                                style="width: 300px;" ng-model="newStaff.position" ng-required="true">
                        </div>
                        <div>
                            <label>FTE</label>
                            <select name="" type="text" value="" ng-model="newStaff.fte">
                                <option></option>
                                <option value="FT">FT - Full-time</option>
                                <option value="PT">PT - Part-time</option>
                            </select>
                        </div>
                        <div>
                            <label>Anticipated Contract Start Date <span class="notation">(can be
                                    approximate)</span></label>
                            <input name="" type="text" value="" class="psDateWidget" ng-model="newStaff.start_date"
                                ng-init="userContext.curDate">
                        </div>
                    </div>
                    <div>
                        <div>
                            <label>Who is <span
                                    ng-show="newStaff.title =='' && newStaff.first_name =='' && newStaff.last_name ==''">{{userContext.newStaffTempName}}</span>
                                {{newStaff.title}} {{newStaff.first_name}} {{newStaff.last_name}} Replacing? <span
                                    style="color: red;
	font-size: 13.5pt;"> *</span><span class="notation">(choose Other if staff member being replaced is not
                                    listed)</span></label>
                            <select
                                ng-show="userContext.pageStatus =='Submit' || (userContext.pageStatus =='Edit' && (newStaff.replacing =='New' || newStaff.replacing =='Other'))"
                                name="" ng-model="newStaff.replacing" ng-required="true" ng-change="getExistingStaff()">
                                <option></option>

                                ~[tlist_sql;SELECT
                                users.dcid,
                                users.first_name,
                                users.last_name
                                FROM SCHOOLSTAFF
                                inner join users
                                on users.dcid = schoolstaff.users_dcid
                                WHERE schoolstaff.status =1
                                ~[if.is.a.school]
                                AND schoolstaff.schoolid = ~(curschoolid)
                                [/if.is.a.school]
                                Order BY users.last_name , users.first_name]
                                <option value="~(dcid)">~(first) ~(last)</option>
                                [/tlist_sql]
                                <option value="Other">-- Other --</option>
                            </select><span class="feedback-info"
                                ng-show="newStaff.replacing !='New' && newStaff.replacing !='Other' && newStaff.replacing !='' && userContext.pageStatus =='Submit'"><b><u>Please
                                        Note:</u></b> An exiting staff record will also be submitted for <span
                                    ng-show="exitingRecord.first_name =='' && exitingRecord.last_name ==''">the replaced
                                    staff</span>{{exitingRecord.first_name}} {{exitingRecord.last_name}} when you click
                                Submit</span>
                            <input
                                ng-show="newStaff.replacing !='New' && newStaff.replacing !='Other' && userContext.pageStatus =='Edit'"
                                name="" type="text" value="" ng-model="newStaff.old_name_placeholder">
                        </div>
                    </div>
                    <div ng-if="newStaff.replacing === 'Other'">
                        <div>
                            <label>Please type name of the staff member <span
                                    ng-show="newStaff.title =='' && newStaff.first_name =='' && newStaff.last_name ==''">{{userContext.newStaffTempName}}</span>
                                {{newStaff.title}} {{newStaff.first_name}} {{newStaff.last_name}} is replacing</label>
                            <input name="" type="text" value="" style="width: 300px;"
                                ng-model="newStaff.replacing_other">
                        </div>
                    </div>
                    <div>
                        <div>
                            <label>Where was <span
                                    ng-show="newStaff.title =='' && newStaff.first_name =='' && newStaff.last_name ==''">{{userContext.newStaffTempName}}</span>
                                {{newStaff.title}} {{newStaff.first_name}} {{newStaff.last_name}} previously
                                employed?</label>
                            <select name="" ng-model="newStaff.previous_employer">
                                <option></option>
                                ~[tlist_sql;SELECT SCHOOLS.School_number, SCHOOLS.name, SCHOOLS.SchoolCategoryCodesetID
                                FROM SCHOOLS
                                WHERE SCHOOLS.School_number NOT IN (888888,999999)
                                ORDER BY schools.name;]
                                <option value="~(schnum)">~(schname)</option>
                                [/tlist_sql]
                                <option value="Other">-- Other --</option>
                            </select>
                        </div>
                    </div>
                    <div ng-if="newStaff.previous_employer === 'Other'">
                        <div>
                            <label>Please type previous employer</label>
                            <input name="" type="text" value="" style="width: 300px;"
                                ng-model="newStaff.previous_employer_other">
                        </div>
                    </div>
                    <div id="feedback-message" class="feedback-alert" ng-show="userContext.pageStatus =='Submit'">All
                        staff accounts transfering from another
                        Diocese of Lincoln School, will not be moved until some time after June 15th.<br> If
                        {{newStaff.title}} {{newStaff.first_name}} {{newStaff.last_name}} needs access to your school
                        prior to then, please specify below.</div>
                    <div>
                        <div>
                            <label>Requested Account Setup Deadline</label>
                            <input name="" type="text" value="" class="psDateWidget" ng-model="newStaff.deadline"
                                ng-init="userContext.curDate">
                        </div>
                    </div>
                    <div>
                        <div>
                            <label>Additional Notes/Details?</label>
                            <textarea name="body" rows="3" cols="77" spellcheck="true" wrap="absolute"
                                ng-model="newStaff.notes"></textarea>
                        </div>
                    </div>
                    <div>
                        <div>
                            <label>Suggestions to Make this Form/Process Better?</label>
                            <textarea name="body" rows="3" cols="77" spellcheck="true" wrap="absolute"
                                ng-model="newStaff.suggestions"></textarea>
                        </div>
                    </div>
                    <div>
                        <div class="feedback-info" ng-show="userContext.pageStatus =='Submit'">
                            <b><u>Please Note:</u></b> personal files (i.e. Documents and pictures, music and videos)
                            should be moved by <span
                                ng-show="newStaff.title =='' && newStaff.first_name =='' && newStaff.last_name ==''">{{userContext.newStaffTempName}}</span>
                            {{newStaff.title}} {{newStaff.first_name}} {{newStaff.last_name}}.<br> Ed Tech is not
                            responsible for moving the files to the new server.
                        </div>
                    </div>

                    ~[if#distCheck.security.inrole=9]
                    <div style="background-color: #fff; border-top: 1px solid #eee;"
                        ng-show="userContext.pageStatus =='Edit'">
                        <div>
                            <table class="grid">
                                <thead>
                                    <tr>
                                        <th colspan="4">Account Transfer</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td style="background-color: #fff;padding: 5px 10px 10px 2px;">
                                            <input type="checkbox" name=""
                                                ng-model="newStaff.ps_created"><label>PowerSchool Account
                                                Moved?</label>
                                            <ul>
                                                <li>New School added and Activated?</li>
                                                <li>Old School Deactivated?</li>
                                            </ul>
                                        </td>
                                        <td style="background-color: #fff;padding: 5px 10px 10px 2px;">
                                            <input type="checkbox" name="" ng-model="newStaff.ad_created"><label>AD
                                                Account Moved?</label>
                                            <ul>
                                                <li>Groups and other fields changed reflecting the move?</li>
                                                <li>E-mailbox moved to the new school?</li>
                                            </ul>
                                        </td>
                                        <td style="background-color: #fff;padding: 5px 10px 10px 2px;">
                                            <input type="checkbox" name="" ng-model="newStaff.o365_created"><label>O365
                                                Account Verified?</label>
                                            <ul>
                                                <li>Verify Teams and Office 365 groups</li>
                                            </ul>
                                        </td>
                                        <td style="background-color: #fff;padding: 5px 10px 10px 2px;">
                                            <input type="checkbox" name="" ng-model="newStaff.lms_created"><label>LMS
                                                Double Check?</label>
                                            <ul>
                                                <li>Re-assign class ownership (if applicable)</li>
                                                <li>CHeck UPN (if transfering to or from Pius)</li>
                                            </ul>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    [/if#distCheck]
                    <div class="button-row" ng-show="userContext.pageStatus =='Submit'">
                        <span class="req-notation" ng-show="exitingForm.$invalid && exitingForm.$dirty">Please
                            fill all required fields prior to submitting.</span>
                        <button id="canBtn" type="button" ng-show="subConfirm"
                            ng-click="subConfirm = false">Cancel</button>
                        <button id="conBtn" type="button" style="background-color: DarkOrange;" ng-show="subConfirm"
                            ng-click="submitStaffChange()">Confirm Submission</button>
                        <button id="subBtn" type="button" ng-show="!subConfirm" ng-click="subConfirm = true"
                            ng-disabled="exitingForm.$invalid">Submit</button>
                    </div>
                    <div ng-show="userContext.pageStatus =='Edit'" class="button-row">
                        <span class="req-notation" ng-show="exitingForm.$invalid && exitingForm.$dirty">Please
                            fill all required fields prior to submitting.</span>
                        <button id="canBtn" type="button" ng-show="delUpdate"
                            ng-click="delUpdate = false">Cancel</button>
                        <button id="conBtn" type="button" style="background-color: DarkOrange;" ng-show="delUpdate"
                            ng-click="deleteStaffChange()">Confirm Deletion</button>
                        <a id="bkBtn" class="button" ng-show="!delUpdate"
                            href="/admin/cdol/staffchange/cdol_staff_change_list.html">Back</a>
                        <button id="delBtn" type="button" ng-show="!delUpdate" ng-click="delUpdate = true">Delete
                            Submission</button>
                        <button id="upBtn" type="button" ng-disabled="exitingForm.$invalid" ng-show="!delUpdate"
                            ng-click="submitStaffUpdate()">Submit
                            Update</button>
                    </div>
                </div>
            </form>
            <!--Exiting Submit -->
            <form name="exitingForm" method="POST" novalidate>
                <div class="fluid-form" ng-if="newStaff.name_change=='Exiting Staff'">
                    <h4 style="margin-left: 10px;">{{newStaff.name_change}} Name</h4>
                    <div id="feedback-message" class="feedback-alert" ng-show="userContext.pageStatus =='Submit'">If the
                        Exiting staff member is being replaced by a
                        new staff member, please use the New Staff option on this form to submit the New Staff member
                        first.<br> That process will ask you who the New Staff member is replacing which also submits a
                        Exiting Staff record for who they are replacing.</div>
                    <div>
                        <div>
                            <label class="req">Who is not returning?</label>
                            <select ng-show="userContext.pageStatus =='Submit'" name="" ng-model="newStaff.replacing"
                                ng-required="true" ng-change="getExistingStaff()">
                                <option></option>
                                ~[tlist_sql;SELECT distinct
                                users.dcid,
                                users.first_name,
                                users.last_name
                                FROM SCHOOLSTAFF
                                inner join users
                                on users.dcid = schoolstaff.users_dcid
                                WHERE schoolstaff.status =1
                                ~[if.is.a.school]
                                AND schoolstaff.schoolid = ~(curschoolid)
                                [/if.is.a.school]
                                Order BY users.last_name , users.first_name]
                                <option value="~(dcid)">~(first) ~(last)</option>
                                [/tlist_sql]
                            </select>
                            <input ng-show="userContext.pageStatus =='Edit'" name="" type="text" value=""
                                ng-model="newStaff.old_name_placeholder">
                        </div>
                    </div>
                    <div id="feedback-message" class="feedback-alert"
                        ng-show="newStaff.replacing !='' && userContext.pageStatus =='Submit'">All exiting
                        staff accounts will be deactivated
                        after June 15th.<br> If <span
                            ng-show="exitingRecord.first_name =='' && exitingRecord.last_name ==''">the exiting
                            staff</span>{{exitingRecord.first_name}} {{exitingRecord.last_name}} needs access to their
                        account after June 15th or needs to be deactivated sooner, please specify date below.</div>
                    <div ng-show="newStaff.replacing !=''">
                        <div>
                            <label>Requested Deactivation Date<span class="notation">(please type in the
                                    date)</span></label>
                            <input name="" type="text" value="" maxlength="10" size="10" style="width:98px;"
                                placeholder="MM/DD/YYYY" ng-model="newStaff.deadline">
                        </div>
                    </div>
                    <div>
                        <div>
                            <label>Additional Notes/Details?</label>
                            <textarea name="body" rows="3" cols="77" spellcheck="true" wrap="absolute"
                                ng-model="newStaff.notes"></textarea>
                        </div>
                    </div>
                    <div>
                        <div>
                            <label>Suggestions to Make this Form/Process Better?</label>
                            <textarea name="body" rows="3" cols="77" spellcheck="true" wrap="absolute"
                                ng-model="newStaff.suggestions"></textarea>
                        </div>
                    </div>
                    <div>
                        <div class="feedback-info" ng-show="userContext.pageStatus =='Submit'">
                            <b><u>Please Note:</u></b> personal files (i.e. Documents and pictures, music and videos)
                            should be removed by <span
                                ng-show="exitingRecord.first_name =='' && exitingRecord.last_name ==''">the exiting
                                staff</span>{{exitingRecord.first_name}} {{exitingRecord.last_name}}.<br> Ed Tech is not
                            responsible for any files left after <span
                                ng-show="exitingRecord.first_name =='' && exitingRecord.last_name ==''">the exiting
                                staff</span>{{exitingRecord.first_name}} {{exitingRecord.last_name}}'s departure.
                        </div>
                    </div>
                    ~[if#distCheck.security.inrole=9]
                    <div style="background-color: #fff; border-top: 1px solid #eee;"
                        ng-show="userContext.pageStatus =='Edit'">
                        <div>
                            <table class="grid">
                                <thead>
                                    <tr>
                                        <th colspan="4">Account Deactivated</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td style="background-color: #fff;padding: 5px 10px 10px 2px;">
                                            <input type="checkbox" name=""
                                                ng-model="newStaff.ps_created"><label>PowerSchool Account
                                                Deactivated?</label>
                                            <ul>
                                                <li>School(s) Deactivated?</li>
                                                <li>Sign ins Deavtivated?</li>
                                                <li>LDAP Diabled?</li>
                                            </ul>
                                        </td>
                                        <td style="background-color: #fff;padding: 5px 10px 10px 2px;">
                                            <input type="checkbox" name="" ng-model="newStaff.ad_created"><label>AD user
                                                account disabled?</label>
                                            <ul>
                                                <li>Email account noted as "disabled"?
                                                    <ul>
                                                        <li>(which sends an autoreply that the user will not receive the
                                                            message)</li>
                                                        <li>Removed from distribution groups and "Office" field deleted
                                                        </li>
                                                    </ul>
                                                </li>
                                                <li>Office 365 login disabled with AD account?
                                                    <ul>
                                                        <li>The account will be fully deleted six months later</li>
                                                    </ul>
                                                </li>

                                            </ul>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    [/if#distCheck]
                    <div class="button-row" ng-show="userContext.pageStatus =='Submit'">
                        <span class="req-notation" ng-show="exitingForm.$invalid && exitingForm.$dirty">Please
                            fill all required fields prior to submitting.</span>
                        <button id="canBtn" type="button" ng-show="subConfirm"
                            ng-click="subConfirm = false">Cancel</button>
                        <button id="conBtn" type="button" style="background-color: DarkOrange;" ng-show="subConfirm"
                            ng-click="submitStaffChange()">Confirm Submission</button>
                        <button id="subBtn" type="button" ng-show="!subConfirm" ng-click="subConfirm = true"
                            ng-disabled="exitingForm.$invalid">Submit</button>
                    </div>
                    <div ng-show="userContext.pageStatus =='Edit'" class="button-row">
                        <span class="req-notation" ng-show="exitingForm.$invalid && exitingForm.$dirty">Please
                            fill all required fields prior to submitting.</span>
                        <button id="canBtn" type="button" ng-show="delUpdate"
                            ng-click="delUpdate = false">Cancel</button>
                        <button id="conBtn" type="button" style="background-color: DarkOrange;" ng-show="delUpdate"
                            ng-click="deleteStaffChange()">Confirm Deletion</button>
                        <a id="bkBtn" class="button" ng-show="!delUpdate"
                            href="/admin/cdol/staffchange/cdol_staff_change_list.html">Back</a>
                        <button id="delBtn" type="button" ng-show="!delUpdate" ng-click="delUpdate = true">Delete
                            Submission</button>
                        <button id="upBtn" type="button" ng-disabled="exitingForm.$invalid" ng-show="!delUpdate"
                            ng-click="submitStaffUpdate()">Submit
                            Update</button>
                    </div>
                </div>
            </form>
            <!--Name change Submit -->
            <form name="nameChangeForm" method="POST" novalidate>
                <div class="fluid-form" ng-if="newStaff.name_change=='Name Change'">
                    <div>
                        <div>
                            <label class="req">Who's name is changing?</label>
                            <select ng-show="userContext.pageStatus =='Submit'" name="" ng-model="newStaff.replacing"
                                ng-required="true" ng-change="getExistingStaff()">
                                <option></option>
                                ~[tlist_sql;SELECT distinct
                                users.dcid,
                                users.first_name,
                                users.last_name
                                FROM SCHOOLSTAFF
                                inner join users
                                on users.dcid = schoolstaff.users_dcid
                                WHERE schoolstaff.status =1
                                ~[if.is.a.school]
                                AND schoolstaff.schoolid = ~(curschoolid)
                                [/if.is.a.school]
                                Order BY users.last_name , users.first_name]
                                <option value="~(dcid)">~(first) ~(last)</option>
                                [/tlist_sql]
                            </select>
                            <input ng-show="userContext.pageStatus =='Edit'" name="" type="text" value=""
                                ng-model="newStaff.old_name_placeholder">
                        </div>
                    </div>
                    <div><label>Staff's New Name</label></div>
                    <div>
                        <div>
                            <label class="req">Title</label>
                            <select name="" id="selectTitle" ng-model="newStaff.title"
                                ng-required="true">~[x:codesetoptions;codetype=Title;includeblank;value=~([U_CDOL_STAFF_CHANGES]title)]</select>
                        </div>
                        <div>
                            <label class="req">First Name</label>
                            <input name="" type="text" value="" ng-model="newStaff.first_name" ng-required="true">
                        </div>
                        <div>
                            <label>Middle Name</label>
                            <input name="" type="text" value="" ng-model="newStaff.middle_name">
                        </div>
                        <div>
                            <label class="req">Last Name</label>
                            <input name="" type="text" value="" ng-model="newStaff.last_name" ng-required="true">
                        </div>
                    </div>
                    <div>
                        <div>
                            <label>Reason for Name Change and/or additional Notes/Details?</label>
                            <textarea name="body" rows="3" cols="77" spellcheck="true" wrap="absolute"
                                ng-model="newStaff.notes"></textarea>
                        </div>
                    </div>
                    <div>
                        <div>
                            <label>Suggestions to Make this Form/Process Better?</label>
                            <textarea name="body" rows="3" cols="77" spellcheck="true" wrap="absolute"
                                ng-model="newStaff.suggestions"></textarea>
                        </div>
                    </div>
                    ~[if#distCheck.security.inrole=9]
                    <div style="background-color: #fff; border-top: 1px solid #eee;"
                        ng-show="userContext.pageStatus =='Edit'">
                        <div>
                            <table class="grid">
                                <thead>
                                    <tr>
                                        <th colspan="4">Account Update</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td style="background-color: #fff;padding: 5px 10px 10px 2px;">
                                            <input type="checkbox" name=""
                                                ng-model="newStaff.ps_created"><label>PowerSchool Account
                                                Updated?</label>
                                            <ul>
                                                <li>User Name Updated?</li>
                                                <li>Email Address Updated?</li>
                                            </ul>
                                        </td>
                                        <td style="background-color: #fff;padding: 5px 10px 10px 2px;">
                                            <input type="checkbox" name="" ng-model="newStaff.ad_created"><label>AD User
                                                Account created?</label>
                                            <ul>
                                                <li>Exchange email updated?</li>
                                            </ul>
                                        </td>
                                        <td style="background-color: #fff;padding: 5px 10px 10px 2px;">
                                            <input type="checkbox" name="" ng-model="newStaff.o365_created"><label>O365
                                                User
                                                Account updated?</label>
                                            <ul>
                                                <li>Office 365 updated?</li>
                                            </ul>
                                        </td>
                                        <td style="background-color: #fff;padding: 5px 10px 10px 2px;">
                                            <input type="checkbox" name="" ng-model="newStaff.lms_created"><label>LMS
                                                Account
                                                Updated?</label>
                                            <ul>
                                                <li>LMS name Updated?</li>
                                                <li>Matches O365 Login?</li>
                                            </ul>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    [/if#distCheck]
                    <div class="button-row" ng-show="userContext.pageStatus =='Submit'">
                        <span class="req-notation" ng-show="nameChangeForm.$invalid && nameChangeForm.$dirty">Please
                            fill all required fields prior to submitting.</span>
                        <span style="display:inline; padding: 4px 4px 4px 30px;" ng-show="subConfirm"
                            class="feedback-alert">Please double check spelling prior to
                            submission. It is critical for accurate account creation.</span>
                        <button id="canBtn" type="button" ng-show="subConfirm"
                            ng-click="subConfirm = false">Cancel</button>
                        <button id="conBtn" type="button" style="background-color: DarkOrange;" ng-show="subConfirm"
                            ng-click="submitStaffChange()">Confirm Submission</button>
                        <button id="subBtn" type="button" ng-show="!subConfirm" ng-click="subConfirm = true"
                            ng-disabled="nameChangeForm.$invalid">Submit</button>
                    </div>
                    <div ng-show="userContext.pageStatus =='Edit'" class="button-row">
                        <span class="req-notation" ng-show="nameChangeForm.$invalid && nameChangeForm.$dirty">Please
                            fill all required fields prior to submitting.</span>
                        <button id="canBtn" type="button" ng-show="delUpdate"
                            ng-click="delUpdate = false">Cancel</button>
                        <button id="conBtn" type="button" style="background-color: DarkOrange;" ng-show="delUpdate"
                            ng-click="deleteStaffChange()">Confirm Deletion</button>
                        <a id="bkBtn" class="button" ng-show="!delUpdate"
                            href="/admin/cdol/staffchange/cdol_staff_change_list.html">Back</a>
                        <button id="delBtn" type="button" ng-show="!delUpdate" ng-click="delUpdate = true">Delete
                            Submission</button>
                        <button id="upBtn" type="button" ng-disabled="nameChangeForm.$invalid" ng-show="!delUpdate"
                            ng-click="submitStaffUpdate()">Submit
                            Update</button>
                    </div>
                </div>
            </form>
            <!--New Staff Submit-->
            <div id="feedback-message" class="feedback-alert"
                ng-show="userContext.pageStatus =='Submit' && newStaff.name_change=='New Staff'">Please spell
                new staff name correctly! If new staff member
                is going to have a name change in the next 6 months for any reason please enter their anticipated
                name.</div>
            <form name="staffChangeForm" method="POST" novalidate>
                <div class="fluid-form" ng-show="newStaff.name_change=='New Staff'">
                    <h4 style="margin-left: 10px;">{{userContext.newStaffTempName}} Name</h4>
                    <div>
                        <div>
                            <label class="req">Title</label>
                            <select name="" id="selectTitle" ng-model="newStaff.title"
                                ng-required="true">~[x:codesetoptions;codetype=Title;includeblank;value=~([U_CDOL_STAFF_CHANGES]title)]</select>
                        </div>
                        <div>
                            <label class="req">First Name</label>
                            <input name="" type="text" value="" ng-model="newStaff.first_name" ng-required="true">
                        </div>
                        <div>
                            <label>Middle Name</label>
                            <input name="" type="text" value="" ng-model="newStaff.middle_name">
                        </div>
                        <div>
                            <label class="req">Last Name</label>
                            <input name="" type="text" value="" ng-model="newStaff.last_name" ng-required="true">
                        </div>
                    </div>
                    <div>
                        <div>
                            <label class="req">Gender</label>
                            <select name="" id="selectgender" ng-model="newStaff.gender"
                                ng-required="true">~[x:codesetoptions;codetype=Gender;includeblank;value=~([U_CDOL_STAFF_CHANGES]preferred_name)]</select>
                        </div>
                        <div>
                            <label>Date of Birth <span class="notation">(please type in the date)</span></label>
                            <input name="" type="text" value="" maxlength="10" size="10" style="width:98px;"
                                placeholder="MM/DD/YYYY" ng-model="newStaff.dob">
                        </div>
                    </div>
                    <div>
                        <div>
                            <label>Preferred Name<span class="notation">(chosen name that may differ from legal
                                    name)</span></label>
                            <input name="" type="text" value="" ng-model="newStaff.preferred_name">
                        </div>
                        <div ng-show="newStaff.gender === 'F' && (newStaff.title ==='Mrs.' || newStaff.title ==='Dr.')">
                            <label>Maiden Name</label>
                            <input name="" type="text" value="" ng-model="newStaff.maiden_name">
                        </div>
                    </div>
                    <div>
                        <div>
                            <label>Religion</label>
                            <select name="" type="text" value="" ng-model="newStaff.religion">
                                <option></option>
                                <option value="C">C - Catholic</option>
                                <option value="N">N - Non-Catholic</option>
                            </select>
                        </div>
                        <div style="margin-left:10px;">
                            <label>Religious, clergy or lay</label>
                            <select name="" type="text" value="" ng-model="newStaff.religiousclergylay">
                                <option></option>
                                <option value="R">R - Religious</option>
                                <option value="C">C - Clergy</option>
                                <option value="L" selected="">L - Lay</option>
                            </select>
                        </div>
                    </div>
                    <div>
                        <div>
                            <label>Personal Email <span class="notation">(for communication during account setup and
                                    summer
                                    trainings)</span></label>
                            <input name="" type="email" value="" placeholder="NewStaff@email.com"
                                ng-model="newStaff.personal_email">
                        </div>
                    </div>
                    <div>
                        <div>
                            <label class="req">Staff Type</label>
                            <select name="" ng-model="newStaff.staff_type" ng-required="true">
                                <option></option>
                                <option value="1">Teacher</option>
                                <option value="2">Staff</option>
                                <option value="3">Lunch Staff</option>
                                <option value="4">Substitute</option>
                            </select>
                        </div>
                        <div>
                            <label class="req">Position</label>
                            <input name="" type="text" value="" placeholder="Ex: 2nd Grade Teacher, or Principal"
                                style="width: 300px;" ng-model="newStaff.position" ng-required="true">
                        </div>
                        <div>
                            <label>FTE</label>
                            <select name="" type="text" value="" ng-model="newStaff.fte">
                                <option></option>
                                <option value="FT">FT - Full-time</option>
                                <option value="PT">PT - Part-time</option>
                            </select>
                        </div>
                        <div>
                            <label>Anticipated Contract Start Date <span class="notation">(can be
                                    approximate)</span></label>
                            <input name="" type="text" value="" class="psDateWidget" ng-model="newStaff.start_date"
                                ng-init="userContext.curDate">
                        </div>
                    </div>
                    <div>
                        <div>
                            <label>Will <span
                                    ng-show="newStaff.title =='' && newStaff.first_name =='' && newStaff.last_name ==''">{{userContext.newStaffTempName}}</span>
                                {{newStaff.title}} {{newStaff.first_name}} {{newStaff.last_name}} need their accounts
                                setup prior to Contract Start Date?</label>
                            <select name="" type="text" value="" ng-model="newStaff.early_setup">
                                <option></option>
                                <option value="Yes">Yes</option>
                                <option value="No">No</option>
                            </select>
                        </div>
                    </div>
                    <div ng-show="newStaff.early_setup =='Yes'">
                        <div>
                            <label>Requested Account Setup Deadline</label>
                            <input name="" type="text" value="" class="psDateWidget" ng-model="newStaff.deadline"
                                ng-init="userContext.curDate">
                        </div>
                    </div>
                    <div>
                        <div>
                            <label>Who is <span
                                    ng-show="newStaff.title =='' && newStaff.first_name =='' && newStaff.last_name ==''">{{userContext.newStaffTempName}}</span>
                                {{newStaff.title}} {{newStaff.first_name}} {{newStaff.last_name}} Replacing? <span
                                    style="color: red;
	font-size: 13.5pt;"> *</span><span class="notation">(choose Other if staff member being replaced is not
                                    listed)</span></label>
                            <select
                                ng-show="userContext.pageStatus =='Submit' || (userContext.pageStatus =='Edit' && (newStaff.replacing =='New' || newStaff.replacing =='Other'))"
                                name="" ng-model="newStaff.replacing" ng-required="true" ng-change="getExistingStaff()">
                                <option></option>

                                ~[tlist_sql;SELECT
                                users.dcid,
                                users.first_name,
                                users.last_name
                                FROM SCHOOLSTAFF
                                inner join users
                                on users.dcid = schoolstaff.users_dcid
                                WHERE schoolstaff.status =1
                                ~[if.is.a.school]
                                AND schoolstaff.schoolid = ~(curschoolid)
                                [/if.is.a.school]
                                Order BY users.last_name , users.first_name]
                                <option value="~(dcid)">~(first) ~(last)</option>
                                [/tlist_sql]
                                <option value="New">-- New Position --</option>
                                <option value="Other">-- Other --</option>
                            </select><span class="feedback-info"
                                ng-show="newStaff.replacing !='New' && newStaff.replacing !='Other' && newStaff.replacing !=''&& userContext.pageStatus =='Submit'"><b><u>Please
                                        Note:</u></b> An exiting staff record will also be submitted for <span
                                    ng-show="exitingRecord.first_name =='' && exitingRecord.last_name ==''">the replaced
                                    staff</span>{{exitingRecord.first_name}} {{exitingRecord.last_name}} when you click
                                Submit</span>
                            <input
                                ng-show="newStaff.replacing !='New' && newStaff.replacing !='Other' && userContext.pageStatus =='Edit'"
                                name="" type="text" value="" ng-model="newStaff.old_name_placeholder">
                        </div>
                    </div>
                    <div ng-if="newStaff.replacing === 'Other'">
                        <div>
                            <label>Please type name of the staff member <span
                                    ng-show="newStaff.title =='' && newStaff.first_name =='' && newStaff.last_name ==''">{{userContext.newStaffTempName}}</span>
                                {{newStaff.title}} {{newStaff.first_name}} {{newStaff.last_name}} is replacing</label>
                            <input name="" type="text" value="" style="width: 300px;"
                                ng-model="newStaff.replacing_other">
                        </div>
                    </div>
                    <div>
                        <div>
                            <label>Has <span
                                    ng-show="newStaff.title =='' && newStaff.first_name =='' && newStaff.last_name ==''">{{userContext.newStaffTempName}}</span>
                                {{newStaff.title}} {{newStaff.first_name}} {{newStaff.last_name}} previously worked for
                                ~(schoolname) or another Diocese of Lincoln School?</label>
                            <select name="" ng-model="newStaff.previous">
                                <option></option>
                                <option value="1">Yes</option>
                                <option value="0">No</option>
                            </select>
                        </div>
                    </div>
                    <div ng-if="newStaff.previous == 1">
                        <div>
                            <label>Where was <span
                                    ng-show="newStaff.title =='' && newStaff.first_name =='' && newStaff.last_name ==''">{{userContext.newStaffTempName}}</span>
                                {{newStaff.title}} {{newStaff.first_name}} {{newStaff.last_name}} previously
                                employed?</label>
                            <select name="" ng-model="newStaff.previous_employer">
                                <option></option>
                                ~[tlist_sql;SELECT SCHOOLS.School_number, SCHOOLS.name, SCHOOLS.SchoolCategoryCodesetID
                                FROM SCHOOLS
                                WHERE SCHOOLS.School_number NOT IN (888888,999999)
                                ORDER BY schools.name;]
                                <option value="~(schnum)">~(schname)</option>
                                [/tlist_sql]
                                <option value="Other">-- Other --</option>
                            </select>
                        </div>
                    </div>
                    <div ng-if="newStaff.previous_employer === 'Other'">
                        <div>
                            <label>Please type previous employer</label>
                            <input name="" type="text" value="" style="width: 300px;"
                                ng-model="newStaff.previous_employer_other">
                        </div>
                    </div>
                    <div>
                        <div>
                            <label>Additional Notes/Details?</label>
                            <textarea name="body" rows="3" cols="77" spellcheck="true" wrap="absolute"
                                ng-model="newStaff.notes"></textarea>
                        </div>
                    </div>
                    <div>
                        <div>
                            <label>Suggestions to Make this Form/Process Better?</label>
                            <textarea name="body" rows="3" cols="77" spellcheck="true" wrap="absolute"
                                ng-model="newStaff.suggestions"></textarea>
                        </div>
                    </div>
                    ~[if#distCheck.security.inrole=9]
                    <div style="background-color: #fff; border-top: 1px solid #eee;"
                        ng-show="userContext.pageStatus =='Edit'">
                        <div>
                            <table class="grid">
                                <thead>
                                    <tr>
                                        <th colspan="4">Account Creation</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td style="background-color: #fff;padding: 5px 10px 10px 2px;">
                                            <input type="checkbox" name=""
                                                ng-model="newStaff.ps_created"><label>PowerSchool Account
                                                Created?</label>
                                            <ul>
                                                <li>Created account?</li>
                                                <li>Assigned Security Group?</li>
                                                <li>Assigned Email?</li>
                                                <li>Linked LDAP?</li>
                                                <li>NCEA?</li>
                                            </ul>
                                        </td>
                                        <td style="background-color: #fff;padding: 5px 10px 10px 2px;">
                                            <input type="checkbox" name="" ng-model="newStaff.ad_created"><label>AD User
                                                Account created?</label>
                                            <ul>
                                                <li>Exchange email mailbox created?</li>
                                            </ul>
                                        </td>
                                        <td style="background-color: #fff;padding: 5px 10px 10px 2px;">
                                            <input type="checkbox" name="" ng-model="newStaff.o365_created"><label>O365
                                                User
                                                Account created?</label>
                                            <ul>
                                                <li>Office 365 licensed (incl. Teams) assigned?</li>
                                            </ul>
                                        </td>
                                        <td style="background-color: #fff;padding: 5px 10px 10px 2px;">
                                            <input type="checkbox" name="" ng-model="newStaff.lms_created"><label>LMS
                                                Account
                                                Created?</label>
                                            <ul>
                                                <li>Imported from PS-SIS?</li>
                                                <li>Matches O365 Login?</li>
                                            </ul>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    [/if#distCheck]
                    <div id="holdingDiv" style="display: none;"></div>
                    <div id="exitHoldingDiv" style="display: none;"></div>
                    <div class="button-row" ng-show="userContext.pageStatus =='Submit'">
                        <span class="req-notation" ng-show="staffChangeForm.$invalid && staffChangeForm.$dirty">Please
                            fill all required fields prior to submitting.</span>
                        <span style="display:inline; padding: 4px 4px 4px 30px;" ng-show="subConfirm"
                            class="feedback-alert">Please double check spelling prior to
                            submission. It is critical for accurate account creation.</span>
                        <button id="canBtn" type="button" ng-show="subConfirm"
                            ng-click="subConfirm = false">Cancel</button>
                        <button id="conBtn" type="button" style="background-color: DarkOrange;" ng-show="subConfirm"
                            ng-click="submitStaffChange()">Confirm Submission</button>
                        <button id="subBtn" type="button" ng-show="!subConfirm" ng-click="subConfirm = true"
                            ng-disabled="staffChangeForm.$invalid">Submit</button>
                    </div>
                    <div ng-show="userContext.pageStatus =='Edit'" class="button-row">
                        <span class="req-notation" ng-show="staffChangeForm.$invalid && staffChangeForm.$dirty">Please
                            fill all required fields prior to submitting.</span>
                        <button id="canBtn" type="button" ng-show="delUpdate"
                            ng-click="delUpdate = false">Cancel</button>
                        <button id="conBtn" type="button" style="background-color: DarkOrange;" ng-show="delUpdate"
                            ng-click="deleteStaffChange()">Confirm Deletion</button>
                        <a id="bkBtn" class="button" ng-show="!delUpdate"
                            href="/admin/cdol/staffchange/cdol_staff_change_list.html">Back</a>
                        <button id="delBtn" type="button" ng-show="!delUpdate" ng-click="delUpdate = true">Delete
                            Submission</button>
                        <button id="upBtn" type="button" ng-disabled="staffChangeForm.$invalid" ng-show="!delUpdate"
                            ng-click="submitStaffUpdate()">Submit
                            Update</button>
                    </div>
                </div>
            </form>
        </div>
        <!--Confirm-->
        <div ng-show="userContext.pageStatus =='Confirm'">
            <h1>Thank You!</h1>
            <div class="feedback-confirm" style="width:700px"><b><u>Thank You for your submission!</u></b>
                <br>
                ~[if.~(gpv.submessage)=E]
                <p>Your ~(gpv.substat) Submission for ~(gpv.fname) ~(gpv.lname) has been sent to the Education
                    Technology Office. We will be in
                    contact once the account is deactivated.<br> The account will be deactivated June 15th unless
                    specified otherwise.</p>
                [else]
                <p>Your ~(gpv.substat) Submission for ~(gpv.title) ~(gpv.fname) ~(gpv.lname) has been sent to the
                    Education Technology Office. We will be in contact once the account has been created.</p>
                [/if]
            </div>
            <div class="button-row" style="width:740px"><a class="button"
                    href="cdol_staff_change.html?status=Submit">Submit
                    Another
                    Staff Change</a><a class="button" href="cdol_staff_change_list.html">View All Submissions</a><a
                    class="button" href="/admin/home.html">Exit</a>
            </div>
        </div>
        ~[wc:admin_footer_css]
    </body>

</html>